<mat-card>
  <div class="header">
    <div>
      <h1>{{ title }}</h1>
      <p *ngIf="isEdit; else createHint">Atualize os dados do benefício selecionado.</p>
      <ng-template #createHint>
        <p>Preencha os dados do novo benefício a ser disponibilizado.</p>
      </ng-template>
    </div>
  </div>

  <div class="loading" *ngIf="loading">
    <mat-spinner diameter="48"></mat-spinner>
  </div>

  <form *ngIf="!loading" [formGroup]="form" (ngSubmit)="submit()" novalidate>
    <div class="form-grid">
      <mat-form-field appearance="outline">
        <mat-label>Nome</mat-label>
        <input matInput placeholder="Vale alimentação" formControlName="nome" required />
        <mat-error *ngIf="form.controls.nome.hasError('required') && form.controls.nome.touched">
          Informe o nome do benefício
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Saldo disponível</mat-label>
        <input matInput type="number" min="0" step="0.01" formControlName="valor" />
        <span matTextPrefix>R$&nbsp;</span>
        <mat-error *ngIf="form.controls.valor.hasError('required') && form.controls.valor.touched">
          Informe o saldo inicial
        </mat-error>
        <mat-error *ngIf="form.controls.valor.hasError('min') && form.controls.valor.touched">
          O valor deve ser maior ou igual a zero
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Descrição</mat-label>
        <textarea matInput rows="4" formControlName="descricao" placeholder="Detalhes sobre a política do benefício"></textarea>
      </mat-form-field>

      <mat-checkbox formControlName="ativo">Benefício ativo</mat-checkbox>
    </div>

    <div class="actions">
      <button mat-stroked-button type="button" (click)="cancel()">Cancelar</button>
      <button mat-flat-button color="primary" type="submit" [disabled]="saving">
        <mat-icon>save</mat-icon>
        {{ saving ? 'Salvando...' : 'Salvar' }}
      </button>
    </div>
  </form>
</mat-card>
